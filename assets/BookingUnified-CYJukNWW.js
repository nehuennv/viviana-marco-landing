import{c as b,j as l,q as e,x as y,t as o,M as T,A as $,S as z}from"./index-lG77YN-g.js";import{S as P,C as _,a as I}from"./smile-C6nZZV-D.js";import{C as R}from"./calendar-CY908hiW.js";const U=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],q=b("chevron-left",U);const D=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],F=b("clipboard-list",D);const G=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],O=b("loader-circle",G);const H=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],V=b("search",H);const W=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],K=b("stethoscope",W),Y="RGLLjgYjrFUZnUTEoq5eu89cicbbAlj6",Z="783181";function J(){const[r,c]=l.useState([]),[d,i]=l.useState(!0);return l.useEffect(()=>{(async()=>{try{const a=await fetch(`https://api.baserow.io/api/database/rows/table/${Z}/?user_field_names=true&size=200`,{headers:{Authorization:`Token ${Y}`}});if(!a.ok)throw new Error(`Error Baserow: ${a.status}`);const v=(await a.json()).results.map(u=>({slug:u.Slug,price:u.Precio,duration:u.Duracion,active:u.Activo}));c(v)}catch(a){console.error("Error cargando precios:",a)}finally{i(!1)}})()},[]),{getPrice:n=>{const a=r.find(m=>m.slug===n);return!a||!a.price?null:`$${Number(a.price).toLocaleString("es-AR")}`},isActive:n=>{if(d)return!0;const a=r.find(m=>m.slug===n);return a?a.active:!0},loading:d}}const Q=[{id:"estetica",label:"Estética Facial",icon:e.jsx(z,{size:18}),color:"text-purple-600 bg-purple-50 border-purple-100",items:[{title:"Toxina Tercio Superior",slug:"toxina-tercio-superior",time:"30m"},{title:"Control Toxina",slug:"control-toxina",time:"15m"},{title:"Primera Consulta Estética",slug:"primera-consulta-estetica",time:"35m"}]},{id:"ortodoncia",label:"Ortodoncia & Aparatología",icon:e.jsx(I,{size:18}),color:"text-blue-600 bg-blue-50 border-blue-100",items:[{title:"Control Ortodoncia",slug:"control-ortodoncia",time:"20m"},{title:"Armado de Aparatología",slug:"armado-de-aparatologia",time:"60m"},{title:"Recementado de Bracket",slug:"recementado-de-bracket",time:"15m"},{title:"Entrega de Placa",slug:"entrega-placa",time:"15m"},{title:"Retiro Aparatología Superior",slug:"retiro-aparatologia-superior",time:"45m"},{title:"Retiro Aparatología Inferior",slug:"retiro-aparatologia-inferior",time:"45m"},{title:"Retiro Ambos Maxilares",slug:"retiro-ambos-maxilares",time:"90m"},{title:"Control Post Tratamiento",slug:"control-post-tratamiento",time:"15m"}]},{id:"consultas",label:"Consultas & Obras Sociales",icon:e.jsx(F,{size:18}),color:"text-emerald-600 bg-emerald-50 border-emerald-100",items:[{title:"Primera Consulta Particular",slug:"primera-consulta-particular",time:"20m"},{title:"Primera Consulta ISSN",slug:"primera-consulta-issn",time:"30m"},{title:"Recepción de Estudios",slug:"recepcion-de-estudios",time:"15m"},{title:"Consulta General",slug:"consulta-general",time:"20m"},{title:"Urgencia",slug:"urgencia",time:"20m"}]},{id:"clinica",label:"Procedimientos Clínicos",icon:e.jsx(K,{size:18}),color:"text-slate-600 bg-slate-50 border-slate-200",items:[{title:"Limpieza con Ultrasonido",slug:"limpieza-con-ultrasonido",time:"30m"},{title:"Gingivectomía",slug:"gingivectomia",time:"45m"},{title:"Protocolo Fotos y Cefalo",slug:"protocolo-fotos-y-cefalo",time:"20m"},{title:"MIA (Microimplantes)",slug:"mia",time:"30m"},{title:"Lury",slug:"lury",time:"30m"}]}],X="https://cal.com/nehuen-5wgahb",ee=({activeTab:r,setActiveTab:c})=>{const d=[{id:"whatsapp",label:"Asistente IA",icon:e.jsx(z,{size:16})},{id:"calendar",label:"Calendario",icon:e.jsx(R,{size:16})}];return e.jsx("div",{className:"inline-flex bg-white/50 backdrop-blur-md p-1.5 rounded-full border border-slate-200 shadow-sm relative",children:d.map(i=>{const h=r===i.id;return e.jsxs("button",{onClick:()=>c(i.id),className:`
              relative z-10 flex items-center gap-2 px-6 md:px-8 py-3 rounded-full text-sm font-semibold transition-colors duration-200
              ${h?"text-white":"text-slate-500 hover:text-violet-600"}
            `,children:[h&&e.jsx(o.div,{layoutId:"active-pill-booking",className:"absolute inset-0 bg-violet-600 rounded-full shadow-md z-10",transition:{type:"spring",stiffness:300,damping:30}}),e.jsxs("span",{className:"relative z-20 flex items-center gap-2",children:[i.icon," ",i.label]})]},i.id)})})},ie=({initialTreatment:r})=>{const[c,d]=l.useState("whatsapp"),{getPrice:i,isActive:h,loading:w}=J(),[n,a]=l.useState("selection"),[m,v]=l.useState(null),[u,N]=l.useState(!1),[k,C]=l.useState(""),[p,A]=l.useState({nombre:"",apellido:"",tratamiento:""});l.useEffect(()=>{r&&(A(t=>({...t,tratamiento:r})),d("whatsapp"))},[r]);const L=t=>{N(!1),v(`${X}/${t}?embed=true&theme=light`),a("booking")},E=()=>{a("selection"),v(null),C("")},f=t=>{const{name:s,value:x}=t.target;A(g=>({...g,[s]:x}))},B=t=>{t.preventDefault();const s="5492995977208",x=`Hola Dra, soy ${p.nombre} ${p.apellido}. Me gustaría agendar un turno para: *${p.tratamiento||"Consulta General"}*.`,g=`https://wa.me/${s}?text=${encodeURIComponent(x)}`;window.open(g,"_blank")},M={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},j={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},S=Q.map(t=>({...t,items:t.items.filter(s=>{const x=s.title.toLowerCase().includes(k.toLowerCase()),g=h(s.slug);return x&&g})})).filter(t=>t.items.length>0);return e.jsx("section",{id:"booking",className:"relative py-12 md:pt-24 md:pb-20 z-10 overflow-visible",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-12 space-y-6",children:[e.jsxs("div",{"data-aos":"zoom-in","data-aos-duration":"1000",children:[e.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-800 mb-4 tracking-tight",children:["Agenda tu ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-purple-400",children:"experiencia."})]}),e.jsx("p",{className:"text-slate-500 text-[15px] md:text-lg font-light max-w-2xl mx-auto leading-7",children:"Tecnología y calidez humana. Elegí el canal que prefieras."})]}),e.jsx("div",{className:"flex justify-center","data-aos":"zoom-in","data-aos-delay":"200",children:e.jsx(ee,{activeTab:c,setActiveTab:d})})]}),e.jsx("div",{className:"min-h-[600px] relative","data-aos":"zoom-in-up","data-aos-duration":"800","data-aos-delay":"300",children:e.jsxs(y,{mode:"wait",children:[c==="whatsapp"&&e.jsx(o.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.4},className:"max-w-xl mx-auto",children:e.jsxs("div",{className:"relative bg-white/60 backdrop-blur-md border border-slate-200 p-8 md:p-12 rounded-[2.5rem] shadow-2xl shadow-violet-900/5 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-5 mb-8",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-violet-400 rounded-2xl blur-md opacity-20 animate-pulse group-hover:opacity-40 transition-opacity duration-500"}),e.jsx("div",{className:"relative w-16 h-16 bg-violet-100/80 rounded-2xl flex items-center justify-center text-violet-600 border border-violet-200 shadow-inner group-hover:scale-105 transition-transform duration-300",children:e.jsx(T,{size:28,strokeWidth:2.5,className:"drop-shadow-sm"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 leading-tight",children:"Asistente Virtual"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium flex items-center gap-1.5",children:"En línea ahora"})]})]}),e.jsxs(o.form,{variants:M,initial:"hidden",animate:"visible",onSubmit:B,className:"space-y-6",children:[e.jsxs(o.div,{variants:j,className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Tus Datos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Nombre",name:"nombre",required:!0,value:p.nombre,onChange:f,className:"w-full h-12 rounded-xl px-4 bg-white border border-slate-200 text-slate-700 outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/10 transition-all shadow-sm placeholder:text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Apellido",name:"apellido",required:!0,value:p.apellido,onChange:f,className:"w-full h-12 rounded-xl px-4 bg-white border border-slate-200 text-slate-700 outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/10 transition-all shadow-sm placeholder:text-slate-400"})]})]}),e.jsxs(o.div,{variants:j,className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Tratamiento de Interés"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"tratamiento",value:p.tratamiento,onChange:f,className:"w-full h-12 bg-white border border-slate-200 rounded-xl px-4 text-base font-medium text-slate-700 outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/10 transition-all shadow-sm appearance-none cursor-pointer",children:[e.jsx("option",{value:"",disabled:!0,children:"Seleccioná el tratamiento..."}),e.jsx("option",{value:"Botox Full Face",children:"Botox Full Face"}),e.jsx("option",{value:"Labios & Hialurónico",children:"Labios & Hialurónico"}),e.jsx("option",{value:"Mesoterapia",children:"Mesoterapia"}),e.jsx("option",{value:"Bioestimulación Colágeno",children:"Bioestimulación Colágeno"}),e.jsx("option",{value:"Bruxismo con Botox",children:"Bruxismo con Botox"}),e.jsx("option",{value:"Alineadores Invisibles",children:"Alineadores Invisibles"}),e.jsx("option",{value:"Brackets Autoligado",children:"Brackets Autoligado"}),e.jsx("option",{value:"Placas de Ronquidos",children:"Placas de Ronquidos"}),e.jsx("option",{value:"Consulta General",children:"Consulta General"})]}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"m6 9 6 6 6-6"})})})]})]}),e.jsx(o.div,{variants:j,children:e.jsxs("button",{type:"submit",className:"w-full py-4 mt-4 rounded-full bg-violet-600 hover:bg-violet-700 text-white font-semibold text-lg shadow-lg shadow-violet-500/20 transition-all duration-300 flex items-center justify-center gap-2 group active:scale-[0.98]",children:[e.jsx("span",{children:"Continuar en WhatsApp"}),e.jsx($,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]})]})},"whatsapp"),c==="calendar"&&e.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},className:"w-full max-w-4xl mx-auto bg-white rounded-3xl md:rounded-[2.5rem] shadow-2xl shadow-violet-900/5 overflow-hidden border border-slate-200 relative h-[750px] flex flex-col",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur border-b border-slate-100 px-6 py-4 flex items-center justify-between z-20 shrink-0",children:[e.jsx("div",{className:"flex items-center gap-2",children:n==="booking"?e.jsxs("button",{onClick:E,className:"flex items-center gap-1.5 text-sm font-semibold text-slate-500 hover:text-violet-600 transition-colors px-3 py-1.5 hover:bg-slate-50 rounded-lg",children:[e.jsx(q,{size:18})," Atrás"]}):e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-violet-500 animate-pulse"}),"Seleccioná tratamiento"]})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 font-medium",children:[e.jsx(P,{size:14,className:"text-emerald-500"}),e.jsx("span",{className:"hidden sm:inline",children:"Turnos verificados"})]})]}),e.jsx("div",{className:"flex-grow relative bg-slate-50 overflow-hidden",children:e.jsxs(y,{mode:"wait",children:[n==="selection"&&e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 flex flex-col",children:[e.jsx("div",{className:"p-6 pb-2 bg-white/50 backdrop-blur-sm sticky top-0 z-10",children:e.jsxs("div",{className:"relative max-w-lg mx-auto",children:[e.jsx(V,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Buscar tratamiento (ej: Limpieza, Toxina...)",value:k,onChange:t=>C(t.target.value),className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-400 focus:ring-2 focus:ring-violet-50 transition-all shadow-sm"})]})}),e.jsxs("div",{className:"overflow-y-auto custom-scrollbar p-6 space-y-8 flex-grow",children:[S.length>0?S.map(t=>e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:`flex items-center gap-2 mb-4 px-2 py-1.5 rounded-lg w-fit ${t.color} bg-opacity-30`,children:[t.icon,e.jsx("h4",{className:"text-sm font-bold uppercase tracking-wider",children:t.label})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.items.map((s,x)=>e.jsxs("button",{onClick:()=>L(s.slug),className:"group flex flex-col justify-between p-5 rounded-2xl border border-slate-200 bg-white hover:border-violet-300 hover:shadow-xl hover:shadow-violet-500/10 transition-all duration-300 text-left relative overflow-hidden h-full min-h-[110px]",children:[e.jsx("div",{className:"relative z-10 mb-4",children:e.jsx("span",{className:"text-[15px] font-bold text-slate-700 group-hover:text-violet-700 leading-snug block",children:s.title})}),e.jsxs("div",{className:"relative z-10 flex items-end justify-between w-full mt-auto border-t border-slate-100 pt-3",children:[w?e.jsx("div",{className:"h-5 w-16 bg-slate-100 rounded animate-pulse"}):i(s.slug)?e.jsx("span",{className:"text-sm font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg border border-emerald-100 shadow-sm",children:i(s.slug)}):e.jsx("span",{className:"text-xs text-slate-400 font-medium italic",children:"Consultar"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs font-semibold text-slate-400 group-hover:text-violet-500 transition-colors",children:[e.jsx(_,{size:12,strokeWidth:2.5}),s.time]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-violet-50/50 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]},x))})]},t.id)):e.jsx("div",{className:"text-center py-10 text-slate-400",children:e.jsx("p",{children:"No encontramos tratamientos disponibles."})}),e.jsx("div",{className:"h-10"})]})]},"step-selection"),n==="booking"&&e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 w-full h-full bg-white",children:[e.jsx(y,{children:!u&&e.jsxs(o.div,{initial:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white",children:[e.jsx(O,{size:32,className:"animate-spin text-violet-600 mb-3"}),e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Conectando con la agenda..."})]})}),m&&e.jsx("iframe",{src:m,title:"Agenda",className:`w-full h-full border-none transition-opacity duration-500 ${u?"opacity-100":"opacity-0"}`,loading:"lazy",onLoad:()=>N(!0),allow:"camera; microphone; autoplay; fullscreen"})]},"step-booking")]})})]},"calendar")]})})]})})};export{ie as default};
